# [458. Poor Pigs](https://leetcode.com/problems/poor-pigs/)

## 題意

總共有 buckets 桶的液體，只有恰好一桶是有毒的。  
為了要試出哪桶是有毒的，餵了一些可憐的小豬來測試他們會不會活。  
但只有 minutesToTest 的分鐘來驗證哪桶有毒。

餵豬的步驟如下:

1. 挑一些活的豬去餵
2. 每隻豬配到任意桶，且一桶可被任意隻豬同時進食且不花時間
3. 等待 minutesToDie，這段時間不能餵豬
4. 知道那些被餵了存活與死亡
5. 重複這些步驟直到時間用盡
   題目會給與 buckets, minutesToTest 和 minutesToDie，回傳時間內完成試驗最少需使用的豬的數量。

## 想法

先為豬默哀。  
初看沒太多想法，覺得更像邏輯題目，還沒想到重複式，看一下測資。
測資 bucket, die, test 4,15,15，回傳 2。  
題目的說明是同時餵第一隻豬桶 1,2，第二隻豬桶 2,3，時間到第一隻豬死就是 1，兩隻都死就是 2，第二隻死就是 3，都沒死就是 4。

第二個測資是 4,15,30，依然是回傳 2。  
餵第一隻桶 1，餵第二隻桶 2，，第二輪餵 3,4，看最後誰在什麼時候時死了就知道哪桶有毒。

第二個測資是大家比較習慣的想法，就平均的吃，時間夠的情況下可以用這個方法。  
想一下時間夠指的是 test time / dead time 會得到一個數字，把桶數除以該數字表示這個方法需要的隻數。  
回頭看第一個測資，概念上比較像合集差集，他讓一隻豬吃兩桶，這時候會想兩桶這個二是不是有特別意義，三桶可以嗎？  
想一下假設三隻豬，個別是 1,2,3 | 2,3,4 | 3,4,5 一樣可以辨別五桶中哪桶有毒，且只要一次時間。

到這邊第一個想法是藥效時間跟允許測試時間倍數有關，除起來表示允許幾次測試(無條件捨去)，假設為 T。  
一隻豬最多可以吃 T 次飼料，可能在 1 - T 次測試時死去，或是存活到最後，共有 T + 1 種可能(死去的時間)。  
假餓共有 n 隻豬，則所有排列組合 (T + 1) ^ n 次方，表示所有豬存活的排列。  
這個排列必須要大於等於桶數 B 才表示能夠在時間內處理完這次測試。  
(T + 1) ^ n >= B
方程式平移求 n(豬的數量，題目所求)  
n >= Log B / Log (T + 1)
最後求出須無條件進位，因為沒有豬最少的單位是 1 隻。

結果來看這題真的偏向邏輯的組合，困難在抽象的想出這段邏輯。  
這題我也是參考別人題解才懂題目概念，附上我的中文理解。

## 程式

```csharp
public class Solution {
    public int PoorPigs(int buckets, int minutesToDie, int minutesToTest) {
        return Convert.ToInt32(Math.Ceiling(Math.Log(buckets, 10) / Math.Log(minutesToTest / minutesToDie + 1, 10)));
    }
}
```
